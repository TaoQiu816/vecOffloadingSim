# è®­ç»ƒç»“æœå¯è§†åŒ–æŒ‡å—

## æ¦‚è¿°

è®­ç»ƒç»“æŸåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆ**20+**å¼ åˆ†æå›¾è¡¨ï¼Œæ¶µç›–è®­ç»ƒæ”¶æ•›ã€ç­–ç•¥æ¼”åŒ–ã€æ€§èƒ½å¯¹æ¯”ã€èµ„æºåˆ©ç”¨ç­‰å¤šä¸ªç»´åº¦ã€‚

## å›¾è¡¨åˆ—è¡¨

### ğŸ“Š åŸºç¡€è®­ç»ƒæŒ‡æ ‡ (7å¼ )

1. **reward_curve_with_baselines.png**
   - å†…å®¹: MAPPOå¥–åŠ±æ›²çº¿ + åŸºå‡†ç­–ç•¥å¯¹æ¯”
   - ç”¨é€”: è¯„ä¼°è®­ç»ƒæ”¶æ•›æ€§å’Œç›¸å¯¹æ€§èƒ½

2. **loss_curve.png**
   - å†…å®¹: Actor + CriticæŸå¤±æ›²çº¿
   - ç”¨é€”: è¯Šæ–­è®­ç»ƒç¨³å®šæ€§

3. **veh_success_rate_with_baselines.png**
   - å†…å®¹: è½¦è¾†DAGå®Œæˆç‡ï¼ˆ%ï¼‰+ åŸºå‡†å¯¹æ¯”
   - ç”¨é€”: è¯„ä¼°ä»»åŠ¡æˆåŠŸç‡

4. **subtask_success_rate_with_baselines.png**
   - å†…å®¹: å­ä»»åŠ¡å®Œæˆç‡ï¼ˆ%ï¼‰+ åŸºå‡†å¯¹æ¯”
   - ç”¨é€”: ç»†ç²’åº¦æˆåŠŸç‡åˆ†æ

5. **offloading_ratio.png**
   - å†…å®¹: Local/RSU/V2Vå†³ç­–åˆ†å¸ƒï¼ˆå †å é¢ç§¯å›¾ï¼‰
   - ç”¨é€”: ç­–ç•¥æ¼”åŒ–è½¨è¿¹

6. **ma_collaboration_with_baselines.png**
   - å†…å®¹: V2Våä½œç‡ï¼ˆ%ï¼‰+ åŸºå‡†å¯¹æ¯”
   - ç”¨é€”: è¯„ä¼°å¤šæ™ºèƒ½ä½“ååŒ

7. **agent_reward_boxplot.png**
   - å†…å®¹: å„è½¦è¾†å¥–åŠ±åˆ†å¸ƒç®±çº¿å›¾ï¼ˆæœ€å20 epsï¼‰
   - ç”¨é€”: ä¸ªä½“å·®å¼‚åˆ†æ

---

### ğŸ”¬ é«˜çº§åˆ†æå›¾è¡¨ (13å¼ ï¼Œæ–°å¢)

#### æ€§èƒ½å¯¹æ¯”ä¸æƒè¡¡

8. **latency_energy_tradeoff.png** â­
   - å†…å®¹: æ—¶å»¶-èƒ½è€—æ•£ç‚¹å›¾ï¼ˆParetoå‰æ²¿ï¼‰
   - ç”¨é€”: å¤šç›®æ ‡ä¼˜åŒ–æ•ˆæœåˆ†æ
   - ç‰¹ç‚¹: é¢œè‰²æ˜ å°„Episodeè¿›åº¦ï¼Œå«Baselineå¯¹æ¯”

9. **performance_radar.png** â­
   - å†…å®¹: å¤šç»´æ€§èƒ½é›·è¾¾å›¾ï¼ˆ5ä¸ªç»´åº¦ï¼‰
     - Task Success Rate
     - Subtask Success Rate
     - Normalized Reward
     - Resource Utilization
     - Queue Efficiency
   - ç”¨é€”: ä¸€å›¾æ¦‚è§ˆå…¨å±€æ€§èƒ½
   - ç‰¹ç‚¹: æ”¯æŒå¤šç­–ç•¥å¯¹æ¯”

10. **success_rate_multilevel.png** â­
    - å†…å®¹: ä»»åŠ¡/å­ä»»åŠ¡/V2Vä¸‰å±‚æˆåŠŸç‡å¯¹æ¯”
    - ç”¨é€”: ç»†ç²’åº¦æˆåŠŸç‡æ¼”åŒ–
    - ç‰¹ç‚¹: å«80%ç›®æ ‡çº¿

#### èµ„æºä¸è´Ÿè½½åˆ†æ

11. **resource_utilization.png**
    - å†…å®¹: CPUåˆ©ç”¨ç‡ + RSUé˜Ÿåˆ— + Vehicleé˜Ÿåˆ—ï¼ˆ3å­å›¾ï¼‰
    - ç”¨é€”: èµ„æºåˆ©ç”¨æ•ˆç‡æ—¶åºåˆ†æ

12. **queue_load_balance.png**
    - å†…å®¹: é˜Ÿåˆ—è´Ÿè½½å‡è¡¡åˆ†æ
    - ç”¨é€”: è¯†åˆ«æ‹¥å µç“¶é¢ˆ
    - ç‰¹ç‚¹: å«é«˜/ä½è´Ÿè½½é˜ˆå€¼çº¿

13. **cpu_efficiency.png**
    - å†…å®¹: å¹³å‡åˆ†é…CPUç®—åŠ›ï¼ˆGHzï¼‰
    - ç”¨é€”: ç®—åŠ›åˆ†é…æ•ˆç‡

#### è®­ç»ƒç¨³å®šæ€§

14. **training_stability.png** â­
    - å†…å®¹: Rewardæ ‡å‡†å·® + Success Rateæ ‡å‡†å·®ï¼ˆæ»šåŠ¨çª—å£ï¼‰
    - ç”¨é€”: è¯„ä¼°è®­ç»ƒæ³¢åŠ¨æ€§
    - ç‰¹ç‚¹: ä½æ–¹å·® = ç¨³å®šè®­ç»ƒ

15. **ma_fairness.png**
    - å†…å®¹: Jainå…¬å¹³æ€§æŒ‡æ•° [0-1]
    - ç”¨é€”: å¤šæ™ºèƒ½ä½“èµ„æºåˆ†é…å…¬å¹³æ€§

16. **ma_reward_gap.png**
    - å†…å®¹: ä¸ªä½“å¥–åŠ±å·®è·ï¼ˆMax - Minï¼‰
    - ç”¨é€”: ä¸ªä½“å·®å¼‚æ¼”åŒ–

#### Rewardåˆ†è§£åˆ†æ

17. **reward_decomposition.png** â­
    - å†…å®¹: Rewardä¸4ä¸ªå…³é”®å› ç´ çš„ç›¸å…³æ€§ï¼ˆ2x2å­å›¾ï¼‰
      - Reward vs Success Rate
      - Reward vs RSU Usage
      - Reward vs Queue Congestion
      - Reward vs CPU Allocation
    - ç”¨é€”: ç†è§£Rewardé©±åŠ¨å› ç´ 
    - ç‰¹ç‚¹: æ•£ç‚¹å›¾ + Episodeé¢œè‰²æ˜ å°„

#### Episodeæ—¶é•¿åˆ†æ

18. **episode_duration.png**
    - å†…å®¹: Episodeæ—¶é•¿æ—¶åºå›¾ + åˆ†å¸ƒç›´æ–¹å›¾
    - ç”¨é€”: è¯„ä¼°è®­ç»ƒæ•ˆç‡
    - ç‰¹ç‚¹: å«å‡å€¼/ä¸­ä½æ•°æ ‡è®°

#### ä»»åŠ¡å®Œæˆæ—¶é—´

19. **completion_time_cdf.png** â­
    - å†…å®¹: ä»»åŠ¡å®Œæˆæ—¶é—´ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆCDFï¼‰
    - ç”¨é€”: æ—¶å»¶åˆ†å¸ƒå¯¹æ¯”
    - ç‰¹ç‚¹: MAPPO vs Baselines CDFæ›²çº¿

#### å¤šæ™ºèƒ½ä½“æŒ‡æ ‡

20. **queue_len.png**
    - å†…å®¹: Vehicleé˜Ÿåˆ— + RSUé˜Ÿåˆ—å¹³å‡é•¿åº¦
    - ç”¨é€”: é˜Ÿåˆ—æ‹¥å µè¶‹åŠ¿

---

### ğŸ“ˆ plot_results.py ç‹¬ç«‹å›¾è¡¨ (4å¼ )

å¯é€šè¿‡å‘½ä»¤è¡Œå•ç‹¬ç”Ÿæˆï¼ˆç”¨äºè®ºæ–‡ï¼‰ï¼š

```bash
python plot_results.py --log-file runs/run_XXX/metrics/train_metrics.csv --output-dir plots/
```

21. **fig_convergence.png**
    - å†…å®¹: Reward + Task SR + Subtask SRï¼ˆ3å­å›¾ï¼‰
    - ç”¨é€”: è®ºæ–‡çº§æ”¶æ•›æ›²çº¿

22. **fig_policy_evolution.png**
    - å†…å®¹: å †å é¢ç§¯å›¾ï¼ˆLocal/RSU/V2Væ¯”ä¾‹ï¼‰
    - ç”¨é€”: ç­–ç•¥æ¼”åŒ–å¯è§†åŒ–

23. **fig_physics.png**
    - å†…å®¹: æ—¶å»¶ï¼ˆå·¦è½´ï¼‰ + èƒ½è€—ï¼ˆå³è½´ï¼‰åŒè½´å›¾
    - ç”¨é€”: ç‰©ç†æŒ‡æ ‡æ¼”åŒ–ï¼ˆéœ€è®°å½•ç›¸å…³åˆ—ï¼‰

24. **fig_training.png**
    - å†…å®¹: Actor Loss + Critic Loss + Entropyï¼ˆ3å­å›¾ï¼‰
    - ç”¨é€”: è®­ç»ƒè¯Šæ–­

---

## ä½¿ç”¨æ–¹æ³•

### è‡ªåŠ¨ç”Ÿæˆï¼ˆè®­ç»ƒç»“æŸåï¼‰

è®­ç»ƒè„šæœ¬ä¼šè‡ªåŠ¨è°ƒç”¨ `DataRecorder.auto_plot()`ï¼Œç”Ÿæˆæ‰€æœ‰å›¾è¡¨åˆ° `runs/run_XXX/plots/`ã€‚

### æ‰‹åŠ¨ç”Ÿæˆï¼ˆä»å·²æœ‰æ—¥å¿—ï¼‰

```python
from utils.data_recorder import DataRecorder
import pandas as pd

recorder = DataRecorder(base_dir='runs/run_20260105_021203')
recorder.auto_plot()
```

### åªç”Ÿæˆéƒ¨åˆ†å›¾è¡¨

ä¿®æ”¹ `data_recorder.py` çš„ `auto_plot()` æ–¹æ³•ï¼Œæ³¨é‡Šæ‰ä¸éœ€è¦çš„ç»˜å›¾è°ƒç”¨ã€‚

---

## å›¾è¡¨è´¨é‡è®¾ç½®

æ‰€æœ‰å›¾è¡¨é»˜è®¤å‚æ•°ï¼š
- **DPI**: 300ï¼ˆé«˜åˆ†è¾¨ç‡ï¼Œé€‚åˆè®ºæ–‡ï¼‰
- **å°ºå¯¸**: 10x6 ~ 14x12è‹±å¯¸
- **æ ¼å¼**: PNGï¼ˆå¯æ”¹ä¸ºPDFï¼‰
- **é£æ ¼**: seaborn-whitegrid
- **å­—ä½“**: æ”¯æŒä¸­æ–‡ï¼ˆSimHeiï¼‰

ä¿®æ”¹ç¤ºä¾‹ï¼ˆåœ¨ `data_recorder.py` å¼€å¤´ï¼‰ï¼š

```python
plt.rcParams['font.size'] = 14  # å¢å¤§å­—ä½“
plt.rcParams['figure.dpi'] = 150  # é™ä½DPIåŠ é€Ÿé¢„è§ˆ
```

---

## ç¼ºå¤±åˆ—å¤„ç†

éƒ¨åˆ†å›¾è¡¨ä¾èµ–ç‰¹å®šåˆ—ï¼ˆå¦‚ `avg_latency`, `avg_energy`ï¼‰ã€‚å¦‚æœè®­ç»ƒæ—¶æœªè®°å½•ï¼Œè¿™äº›å›¾è¡¨ä¼šè‡ªåŠ¨è·³è¿‡ï¼ˆä¸æŠ¥é”™ï¼‰ã€‚

**éœ€è¦å®Œæ•´å›¾è¡¨ï¼Ÿ** ç¡®ä¿è®­ç»ƒæ—¶è®°å½•ä»¥ä¸‹åˆ—ï¼š

```python
episode_data = {
    'avg_latency': ...,
    'avg_energy': ...,
    'avg_completion_time': ...,
    # ... å…¶ä»–åˆ—
}
```

---

## å¯¹æ¯”åŸºå‡†ç­–ç•¥

è®­ç»ƒæ—¶è¿è¡Œ `eval_baselines.py` ç”ŸæˆåŸºå‡†æ•°æ®ï¼š

```bash
python eval_baselines.py --episodes 10 --output runs/run_XXX
```

åŸºå‡†æ•°æ®ä¼šè‡ªåŠ¨åˆå¹¶åˆ° `episode_log.csv`ï¼Œå¹¶åœ¨ä»¥ä¸‹å›¾è¡¨ä¸­æ˜¾ç¤ºï¼š
- reward_curve_with_baselines.png
- veh_success_rate_with_baselines.png
- latency_energy_tradeoff.png
- performance_radar.png
- completion_time_cdf.png

---

## å¸¸è§é—®é¢˜

### Q1: å›¾è¡¨æ¨¡ç³Šï¼Ÿ
A: å¢åŠ DPI: `plt.savefig(..., dpi=600)`

### Q2: ä¸­æ–‡ä¹±ç ï¼Ÿ
A: å®‰è£…SimHeiå­—ä½“æˆ–ä½¿ç”¨è‹±æ–‡æ ‡ç­¾

### Q3: å†…å­˜ä¸è¶³ï¼Ÿ
A: å‡å°‘æ•°æ®ç‚¹æ•°é‡ï¼ˆå–æœ€åNä¸ªepisodeï¼‰

### Q4: è‡ªå®šä¹‰å›¾è¡¨ï¼Ÿ
A: åœ¨ `DataRecorder` ç±»ä¸­æ·»åŠ æ–°æ–¹æ³•ï¼Œä»¿ç…§ç°æœ‰ `plot_xxx()` æ ¼å¼

---

## å›¾è¡¨ç¤ºä¾‹ç”¨é€”

### è®ºæ–‡æ’°å†™
- æ”¶æ•›æ€§: fig_convergence.png
- ç­–ç•¥åˆ†æ: fig_policy_evolution.png, offloading_ratio.png
- æ€§èƒ½å¯¹æ¯”: performance_radar.png, veh_success_rate_with_baselines.png
- æƒè¡¡åˆ†æ: latency_energy_tradeoff.png

### è°ƒè¯•è®­ç»ƒ
- ç¨³å®šæ€§: training_stability.png, loss_curve.png
- ç“¶é¢ˆ: queue_load_balance.png, resource_utilization.png
- ä¸ªä½“å·®å¼‚: agent_reward_boxplot.png, ma_reward_gap.png

### å®éªŒæŠ¥å‘Š
- ç»¼åˆå¯¹æ¯”: performance_radar.png
- ç»†èŠ‚åˆ†è§£: reward_decomposition.png
- åˆ†å¸ƒåˆ†æ: completion_time_cdf.png, episode_duration.png

---

## æ–°å¢å›¾è¡¨è®¾è®¡ç†å¿µ

âœ… **å…¨é¢æ€§**: è¦†ç›–è®­ç»ƒ/æ€§èƒ½/èµ„æº/ç¨³å®šæ€§å¤šä¸ªç»´åº¦  
âœ… **å¯¹æ¯”æ€§**: æ‰€æœ‰å…³é”®å›¾è¡¨æ”¯æŒBaselineå¯¹æ¯”  
âœ… **å¯è§£é‡Šæ€§**: Rewardåˆ†è§£å›¾å¸®åŠ©ç†è§£ç­–ç•¥è¡Œä¸º  
âœ… **å­¦æœ¯ä»·å€¼**: é«˜åˆ†è¾¨ç‡+æ ‡å‡†åŒ–æ ¼å¼ï¼Œç›´æ¥ç”¨äºè®ºæ–‡  
âœ… **å¥å£®æ€§**: è‡ªåŠ¨è·³è¿‡ç¼ºå¤±åˆ—ï¼Œä¸å½±å“å…¶ä»–å›¾è¡¨ç”Ÿæˆ  

---

**æ€»è®¡**: 20+ å¼ å›¾è¡¨ï¼Œè¦†ç›–è®­ç»ƒå…¨ç”Ÿå‘½å‘¨æœŸ ğŸ‰

